---
import Layout from "@/layouts/Layout.astro";
import { publications } from "@/data/cv";
import { highlightAuthor } from "@/lib/utils";
import {template} from "@/settings";
import HighlightPublication from "@/components/ui/HighlightPublication.astro";
import PublicationsList from "@/components/ui/PublicationsList.astro";

// 하이라이트된 논문과 일반 논문 분리
const highlightedPublications = publications.filter(pub => pub.highlight);
const regularPublications = publications.filter(pub => !pub.highlight);
---

<Layout title="Papers">
  <div class="prose max-w-none">
    <h1 class="text-3xl font-bold mb-8">Publications</h1>
    
    {highlightedPublications.length > 0 && (
      <div>
        <h2 class="text-2xl font-bold mb-6">Featured Publications</h2>
        <div class="grid gap-8 mb-12">
          {highlightedPublications.map((publication) => (
            <HighlightPublication publication={publication} />
          ))}
        </div>
      </div>
    )}

    {regularPublications.length > 0 && (
      <div>
        <h2 class="text-2xl font-bold mb-6">Other Publications</h2>
        <PublicationsList elements={regularPublications} />
      </div>
    )}
  </div>
</Layout>
